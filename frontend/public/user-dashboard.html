<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Mash | Manage Your Teams Project From Anywhere</title>
    <link rel="icon" type="image/png" href="./images/logo1.png" />
    <link rel="stylesheet" href="css/style.css" />
  </head>
  <body>
    <!-- Header -->
    <header class="header">
      <!-- Navbar -->
      <nav>
        <!-- Logo -->
        <a href="#">
          <div class="logo">
            <img src="images/logo1.png" alt="" />
            <h3>Mash Software</h3>
          </div>
        </a>
        <!-- Login/Sign up -->
        <div class="profile">
          <a href="#">Logout</a>

          <a href="#">
            Macharia
            <ion-icon name="person-circle-outline"></ion-icon>
          </a>
        </div>
      </nav>
    </header>

    <!-- Main -->
    <main class="main">
      <div class="sidebar">
        <a href="#"><div class="item">Dashboard</div></a>
      </div>

      <!-- Main area -->
      <div class="main-area">
        <!-- Dashboard component -->
        <div class="dashboard-home">
          <!-- cards -->
          <div class="detail-cards">
            <div class="card" id="users">
              <h3>Project name</h3>
              <p>Chama Kikundi</p>
            </div>
            <div class="card" id="projects">
              <h3>Due date</h3>
              <p>10-10-2022</p>
            </div>
          </div>
          <!-- Users table -->
          <table>
            <colgroup>
              <col span="1" style="width: auto" />
              <col span="1" style="width: auto" />
              <col span="1" style="width: 35%" />
              <col span="1" style="width: auto" />
              <col span="1" style="width: auto" />
            </colgroup>

            <thead>
              <tr>
                <th>#Pid</th>
                <th>Title</th>
                <th>Description</th>
                <th>Name</th>
                <th>Status</th>
                <th>Action</th>
              </tr>
            </thead>
            <!-- Table body -->
            <tbody>
              <!-- First row -->
              <tr>
                <td>1</td>
                <td>Chama Kikundi</td>
                <td>
                  Lorem ipsum dolor sit amet consectetur adipisicing elit.
                  Aliquam adipisci corporis molestias quod? Sunt animi dolorum
                  nam quis in vitae quod consectetur. Iure autem nesciunt
                  dolores perferendis amet optio in?
                </td>
                <td>Ian Macharia</td>
                <td class="project-status"><div>Complete</div></td>
                <td class="delete-btn">
                  <div><ion-icon name="trash-outline"></ion-icon></div>
                </td>
              </tr>
            </tbody>
          </table>
          <!-- End table creation here -->
        </div>

        <!-- Fallback -->
        <div class="fallback">
          <img src="images/no-content.png" alt="" />
          <h3>Nothing Here</h3>
        </div>
      </div>
    </main>

    <!-- Scripts -->
    <script
      type="module"
      src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"
    ></script>
    <script
      nomodule
      src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"
    ></script>

    <!-- Script -->
    <!-- <script src="../dist/index.js" type="module"></script> -->

    <script>
      fetch("http://localhost:8000/users/getUsers")
        .then((response) => response.json())
        .then((data) => {
          // console.log("Success:", data);

          let usersContainer = document.getElementById("users");

          data.forEach((user) => {
            let option = document.createElement("option");

            option.innerHTML = `${user.user_first_name} ${user.user_last_name}`;
            option.setAttribute("id", user.user_id);

            usersContainer.appendChild(option);
          });
        })
        .catch((error) => {
          console.error("Error:", error);
        });
    </script>
  </body>
</html>
